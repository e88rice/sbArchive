<!DOCTYPE html>
<html lang="en"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{/layout/layout.html}">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" defer></script>
<style layout:fragment="style">
  .notice {
    color: red;
    font-size: 12px;
    font-family: 함초롬바탕;
    border: 2px solid red;
    border-radius: 10px;
    padding: 4px;
    margin: 0 4px;

  }
  th {
    text-align: center !important;
  }
  .ex_boards_container {
    padding: 80px; width: 70%; margin: 0 auto;
  }
  .center-block {
    text-align: center;
  }
</style>

<div layout:fragment="content">
  <div class="ex_boards_container">
    <table class="table table-hover">
      <tr>
        <th>번호</th>
        <th style="width: 480px; text-align: center">제목</th>
        <th>글쓴이</th>
        <th>작성일</th>
        <th>조회</th>
        <th>좋아요</th>
      </tr>
      <tr th:each="dto:${responseDTO.dtoList}" th:with="link=${pageRequestDTO.getLink}" th:class="${dto.userId == 'admin' ? 'admin-row' : ''}">
        <td><i th:if="${dto.userId}==admin" class="notice">공지사항</i><a th:href="|@{/board/read(boardId=${dto.boardId})}&${link}|">[[${dto.boardId}]]</a></td>
        <td><a style="margin-left: 50px" th:href="|@{/board/read(boardId=${dto.boardId})}&${link}|">[[${dto.title}]] <span style="color: red;">([[${dto.replyCount}]])</span></a></td>
        <td><a th:href="|@{/board/read(boardId=${dto.boardId})}&${link}|">[[${dto.nickname}]]
          <span>( [[${dto.userId.substring(0, 4)  + '*' * (dto.userId.length() - 4)}]])</span></a></td>
        <td th:if="${dto.addDate == dto.modDate}" th:text="${dto.addDate.toString().substring(0, 10)}"></td>
        <td th:if="${dto.addDate != dto.modDate}" th:text="${dto.modDate.toString().substring(0, 10)}"></td>
        <td th:text="${dto.hit}"></td> <!-- 이 부분 수정 -->
        <td th:text="${dto.likeUp}"></td>
      </tr>
    </table>

    <div class="center-block">
      <ul class="pagination flex-wrap">
        <li class="page-item" th:if="${responseDTO.prev}">
          <a class="page-link" th:data-num="${responseDTO.start - 1}">이전으로</a>
        </li>
        <th:block th:each="i:${#numbers.sequence(responseDTO.start, responseDTO.end)}">
          <li th:class="${responseDTO.page == i} ? 'page-item active' : 'page-item'">
            <a class="page-link" th:if="${responseDTO.page != 0}" th:data-num="${i}" th:href="|@{/admin/exBoards/}${i}|">[[${i}]]</a>
          </li>
        </th:block>
        <li class="page-item" th:if="${responseDTO.next}">
          <a class="page-link" th:data-num="${responseDTO.end +1}">다음으로</a>
        </li>
      </ul>
    </div>
    
  </div>
  <!-- 컨텐츠에 필요한 자바스크립트가 작동 안할 시 여기다가 집어넣으면 될 수도 있음 -->
</div>


</html>
<!--xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5" 시큐리티 화면 인증처리 -->